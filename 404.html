<!DOCTYPE html>
<html>
<head>
    <title>Obsidian Redirect</title>
    <script type="text/javascript">
        // Function to redirect to Obsidian
        function redirectToObsidian() {
            const i = window.location.href.indexOf("obsidian://")
            if(i > -1){
                window.location.href = window.location.href.slice(i)
            }
            var url = new URL(window.location.href)
            const pathSegments = url.pathname.split('/').filter(segment => segment.length > 0);
            const file = pathSegments.slice(-1)[0].split('-').join(" ");  // Get the last segment
            var obsidianUrl = 'obsidian://open?vault=ADO&file=' + encodeURIComponent(file);
            window.location.href = obsidianUrl;
        }
    </script>
</head>
<body onload="redirectToObsidian();">
    <p id="message">Redirecting to Obsidian...</p>
</body>
</html>
